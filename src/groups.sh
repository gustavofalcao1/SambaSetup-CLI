#!/bin/bash

x="start"

menu ()
{
while true $x != "start"
do
clear
echo "=============================================================================================="
echo "                                   GROUPS"
echo "=============================================================================================="
echo ""
echo "------------------------------------------"
echo "    List Server Groups          - 1"
echo "------------------------------------------"
echo "------------------------------------------"
echo "    Add Server Group            - 2"
echo "------------------------------------------"
echo "------------------------------------------"
echo "    Delete Server Group         - 3"
echo "------------------------------------------"
echo "------------------------------------------"
echo "    Add User to Server Group    - 4"
echo "------------------------------------------"
echo "------------------------------------------"
echo "    Return                      - 9"
echo "------------------------------------------"
echo "------------------------------------------"
echo "    Exit                        - 0"
echo "------------------------------------------"
echo ""
echo "Inform the menu option (number): "
read x
echo ""
echo "Menu option ($x)"
echo "=============================================================================================="
echo ""
echo "=============================================================================================="

case "$x" in


    1)
      echo "Server Users"
      echo ""
      less /etc/group
      echo ""
      echo "SUCCESS!"
      sleep 2
echo ""
echo "=============================================================================================="
echo ""
echo "=============================================================================================="
;;
    2)
      echo "Enter the Group NAME for create: "
      read groupadd
      echo ""
      sudo groupadd $groupadd
      echo ""
      echo "SUCCESS!"
      sleep 2
echo ""
echo 
"=============================================================================================="
echo ""
echo "=============================================================================================="
;;
    3)
      echo "Enter the group NAME for delete: "
      read groupdel
      echo ""
      echo "The group {$groupdel} and all their data will be DELETED. Are you sure? "
      echo "[yes] or [no]: "
      read sure
      echo ""
      if [ $sure == 'yes' ]; 
        then sudo groupdel $groupdel
      echo ""
      echo "SUCCESS!!!"
      sleep 2
echo ""
echo "=============================================================================================="
echo ""
echo "=============================================================================================="
;;
    4)
      echo "Enter the group NAME: "
      read group
      echo ""
      echo "Enter the user NAME for ADD to $group: "
      read user
      echo ""
      sudo addgroup $user $group
      echo ""
      echo "SUCCESS!!!"
      sleep 2
echo ""
echo 
"=============================================================================================="
echo ""
echo "=============================================================================================="
;;
    9)
      echo "Returning..."
      echo ""
      echo "SUCCESS!"
      echo ""
      sleep 2
      ./server.sh
echo ""
echo "=============================================================================================="
echo ""
echo "=============================================================================================="
;;
    0)
      echo "Exiting..."
      echo ""
      echo "SUCCESS!"
      echo ""
      sleep 2
      clear
      exit
echo ""
echo "=============================================================================================="
echo ""
echo "=============================================================================================="
;;

*)
        echo "Invalid option!"
esac
done

}
menu
